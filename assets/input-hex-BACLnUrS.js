import{R as $,r as p,j as I}from"./iframe-s8WP3KE-.js";import{t as L}from"./tinycolor-CTCHxbWk.js";import{c as b,I as z}from"./input-CcGhGN5b.js";const r={light:{container:"bg-white border-gray-300 focus-within:ring-blue-500",input:"text-gray-900",icon:"text-gray-600",dragArea:"bg-gray-100 hover:bg-gray-200"},dark:{container:"dark:bg-gray-800 dark:border-gray-600 dark:focus-within:ring-blue-400",input:"dark:text-gray-100",icon:"dark:text-gray-300",dragArea:"dark:bg-gray-700 dark:hover:bg-gray-600"}},P=$.forwardRef(({hexColor:C,handleChange:i,className:N,classNameInput:j,classNameIcon:R,disabled:s,isDisabledMouseEvent:c=!1,onIconClick:U,onIconPointerDown:A,onIconPointerUp:M,showAlpha:o=!1,...B},X)=>{const[w,l]=p.useState(!1),k=L(C),d=k.toHex(),T=k.getAlpha(),D=Math.round(T*255).toString(16).padStart(2,"0"),g=o&&T<1?d+D:d,[a,m]=p.useState(g),H=p.useRef(0);p.useEffect(()=>{w||m(g)},[C,w,g]);const E=t=>{const n=t.slice(0,6),e=t.slice(6,8),f=parseInt(e,16)/255;return L(`#${n}`).setAlpha(f).toHex8String().toUpperCase()},F=t=>{const n=o?8:6,e=t.target.value.replace(/[^0-9a-fA-F]/g,"").slice(0,n).toUpperCase();m(e),e.length===6?i(`#${e}`):e.length===8&&o&&i(E(e))},V=()=>{U?.(a)},_=t=>{if(s||c)return;t.preventDefault(),A?.(a);const n=t.currentTarget;n.setPointerCapture(t.pointerId);const e=document.createElement("style");e.id="dragging-cursor-style",e.innerHTML=`
        body, body * {
          cursor: ew-resize !important;
          user-select: none !important;
        }
      `,document.head.appendChild(e),H.current=parseInt(d,16);const f=t.clientX;l(!0);const y=o&&a.length>=8?a.slice(6,8):"",S=h=>{const u=h.clientX-f;let x=Math.round(H.current+u*55e3);x=Math.max(0,Math.min(16777215,x));const v=x.toString(16).padStart(6,"0").toUpperCase();m(v+y),i(o&&y?E(v+y):`#${v}`)},q=h=>{n.releasePointerCapture(h.pointerId),l(!1),M?.(a);const u=document.getElementById("dragging-cursor-style");u&&u.remove(),n.removeEventListener("pointermove",S),document.removeEventListener("pointerup",q)};n.addEventListener("pointermove",S),document.addEventListener("pointerup",q)};return I.jsxs("div",{className:b("inline-flex items-center overflow-hidden rounded-lg border-2 focus-within:ring-1 focus-within:ring-ring h-8",r.light.container,r.dark.container,N),children:[I.jsx("button",{type:"button",onClick:V,onPointerDown:_,className:b("flex items-center justify-center aspect-square h-full font-bold font-mono text-base select-none",r.light.dragArea,r.dark.dragArea,r.light.icon,r.dark.icon,{"cursor-ew-resize":!c&&!s,"cursor-not-allowed opacity-50":s||c},R),disabled:c||s,children:"#"}),I.jsx(z,{type:"text",className:b("w-full rounded-none border-none bg-transparent text-left px-2 py-0 h-full text-sm",r.light.input,r.dark.input,j),value:a.toLocaleUpperCase(),onChange:F,onFocus:()=>l(!0),onBlur:()=>l(!1),maxLength:o?8:6,disabled:s,ref:X,...B})]})});P.displayName="InputHex";P.__docgenInfo={description:"",methods:[],displayName:"InputHex",props:{hexColor:{required:!0,tsType:{name:"string"},description:""},handleChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(hexColor: string) => void",signature:{arguments:[{type:{name:"string"},name:"hexColor"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},classNameInput:{required:!1,tsType:{name:"string"},description:""},classNameIcon:{required:!1,tsType:{name:"string"},description:""},isDisabledMouseEvent:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onIconClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(hexColor: string) => void",signature:{arguments:[{type:{name:"string"},name:"hexColor"}],return:{name:"void"}}},description:""},onIconPointerDown:{required:!1,tsType:{name:"signature",type:"function",raw:"(hexColor: string) => void",signature:{arguments:[{type:{name:"string"},name:"hexColor"}],return:{name:"void"}}},description:""},onIconPointerUp:{required:!1,tsType:{name:"signature",type:"function",raw:"(hexColor: string) => void",signature:{arguments:[{type:{name:"string"},name:"hexColor"}],return:{name:"void"}}},description:""},showAlpha:{required:!1,tsType:{name:"boolean"},description:`Show and allow alpha channel input (another 2 hex symbols).
By default disabled (input only 6 symbols).`,defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{P as I};
