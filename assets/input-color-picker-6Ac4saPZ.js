import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./iframe-6NnNKPft.js";import{c as K,I as Y}from"./input-number-select-C0Dk15iY.js";import{C as Z}from"./index-Bh3AnJWl.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,o)=>o?o.toUpperCase():r.toLowerCase()),U=t=>{const e=J(t);return e.charAt(0).toUpperCase()+e.slice(1)},q=(...t)=>t.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim(),Q=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=l.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:g="",children:d,iconNode:u,...h},x)=>l.createElement("svg",{ref:x,...ee,width:e,height:e,stroke:t,strokeWidth:o?Number(r)*24/Number(e):r,className:q("lucide",g),...!d&&!Q(h)&&{"aria-hidden":"true"},...h},[...u.map(([f,b])=>l.createElement(f,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=(t,e)=>{const r=l.forwardRef(({className:o,...g},d)=>l.createElement(te,{ref:d,iconNode:e,className:q(`lucide-${G(U(t))}`,`lucide-${t}`,o),...g}));return r.displayName=U(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],se=E("eye-off",ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ae=E("eye",re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ie=E("trash-2",oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],de=E("x",ce),V=t=>{if(!t)return{hex:"------",opacity:100};if(t.includes("gradient"))return{hex:"Mixed",opacity:100};if(t.startsWith("#"))return{hex:t.toUpperCase(),opacity:100};const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(e){const r=parseInt(e[1]),o=parseInt(e[2]),g=parseInt(e[3]),d=e[4]!==void 0?parseFloat(e[4]):1,u=x=>{const f=x.toString(16);return f.length==1?"0"+f:f};return{hex:("#"+u(r)+u(o)+u(g)).toUpperCase(),opacity:Math.round(d*100)}}return{hex:t,opacity:100}},le=t=>{if(!t)return"#000000";if(t.startsWith("#"))return t.toUpperCase();const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(e){const r=parseInt(e[1],10),o=parseInt(e[2],10),g=parseInt(e[3],10),d=u=>("0"+u.toString(16)).slice(-2);return`#${d(r)}${d(o)}${d(g)}`.toUpperCase()}return"#000000"},R=t=>{const e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(e,(g,d,u,h)=>d+d+u+u+h+h),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},ue=({title:t="Background Color",className:e,value:r="rgba(255,255,255,1)",onChange:o,onShowPicker:g,onHideBackground:d,onOpacityChange:u,onDeleteBackground:h})=>{const{hex:x,opacity:f}=V(r),[b,L]=l.useState(!1),[$,N]=l.useState(r),[v,m]=l.useState(x),[w,C]=l.useState(r),[H,P]=l.useState("color"),[I,z]=l.useState(100);l.useEffect(()=>{const{hex:n}=V(r);m(n),N(r),C(r)},[r]);const M=l.useRef(null),[B,F]=l.useState({top:window.innerHeight/2,left:window.innerWidth/2}),y=l.useRef(null),[T,D]=l.useState(!1),W=()=>{b||F({top:window.innerHeight/2,left:window.innerWidth/2}),g?.(!b),L(n=>!n)},O=n=>{const i=n.target.value.replace(/[^0-9a-fA-F]/g,"").substring(0,6).toUpperCase();if(m(i),i.length===3||i.length===6){const c=`#${i}`,p=R(c);if(p){const j=`rgba(${p.r}, ${p.g}, ${p.b}, ${f/100})`;C(j)}}},S=()=>{v.startsWith("#")&&m(v.substring(1))},_=()=>{if(x==="Mixed")return;let n=v.trim();n.startsWith("#")||(n=`#${n}`);const a=R(n);if(a){const i=`rgba(${a.r}, ${a.g}, ${a.b}, ${f/100})`;o?.(i),m(n.toUpperCase())}else{const{hex:i}=V(r);m(i),C(r)}},X=n=>{if(!M.current)return;y.current={x:n.clientX,y:n.clientY,top:M.current.offsetTop,left:M.current.offsetLeft};const a=c=>{if(!y.current)return;const p=c.clientX-y.current.x,j=c.clientY-y.current.y;F({top:y.current.top+j,left:y.current.left+p})},i=()=>{y.current=null,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",i)};let k=w&&(w.includes("gradient")||w.startsWith("rgba")||w.startsWith("#"))?w:"#FFFFFF";if(k.startsWith("#")){const n=c=>c<0||c>100?"ff":Math.round(c/100*255).toString(16).padStart(2,"0");let a=k.substring(1);(a.length===3||a.length===4)&&(a=a.split("").map(c=>c+c).join("")),k=`#${a.substring(0,6)}${n(I)}`}return s.jsxs("div",{className:"w-fit",children:[s.jsxs("div",{className:K("flex items-center justify-between bg-[#3D3D3D] rounded-md p-1 border border-transparent",e),children:[H==="color"?s.jsxs("div",{className:"flex items-center gap-1 w-full",children:[s.jsxs("button",{onClick:W,className:"relative size-5 rounded-sm overflow-hidden bg-white",children:[s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),s.jsx("div",{className:"absolute inset-0",style:{background:k,opacity:I/100}})]}),s.jsx("input",{type:"text",value:v,onChange:O,onFocus:S,onBlur:_,onKeyDown:n=>{n.key==="Enter"&&(_(),n.target.blur())},className:"bg-transparent outline-none px-2 text-gray-200 font-mono text-xs",disabled:x==="Mixed"})]}):s.jsxs("button",{onClick:W,className:"inline-flex items-center gap-1 w-full",children:[s.jsxs("div",{className:"relative size-5 rounded-sm overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),s.jsx("div",{className:"absolute inset-0",style:{background:k,opacity:I/100}})]}),s.jsx("span",{className:"outline-none px-2 text-gray-200 font-mono text-xs",children:v})]}),s.jsxs("div",{className:"inline-flex items-center",children:[s.jsx(Y,{value:I,onChange:n=>{const a=Number(n)||0;if(u?.(a),z(a),$.includes("gradient"))return;const i=$.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(i){const c=i[1],p=i[2],j=i[3],A=`rgba(${c}, ${p}, ${j}, ${a/100})`;N(A),o?.(A)}else{const c=R($);if(c){const p=`rgba(${c.r}, ${c.g}, ${c.b}, ${a/100})`;N(p),o?.(p)}}},step:1,min:0,icon:"%",max:100,className:"bg-transparent dark:bg-transparent flex-row-reverse px-0 py-0 h-4 outline-none border-none font-mono text-xs text-gray-400",classNameInput:"w-10 text-gray-400 font-mono text-xs px-0 py-0 text-right"}),s.jsx("div",{className:"w-px h-4 bg-gray-600 mx-1"})," ",s.jsx("button",{onClick:()=>{d?.(!T),D(!T)},className:"p-1 text-gray-400 hover:text-white",children:T?s.jsx(se,{size:14}):s.jsx(ae,{size:14})}),s.jsx("button",{onClick:h,className:"p-1 text-gray-400 hover:text-white",children:s.jsx(ie,{size:14})})]})]}),b&&s.jsxs("div",{ref:M,className:"fixed z-50 bg-[#202020] overflow-hidden rounded-md",style:{top:`${B.top}px`,left:`${B.left}px`,transform:"translate(-50%, -50%)"},children:[s.jsxs("header",{className:"flex items-center justify-between mb-2 py-1 cursor-move pl-3 pr-1",onMouseDown:X,children:[s.jsx("span",{className:"text-gray-200 font-mono text-xs select-none",children:t}),s.jsx("button",{className:"text-gray-400 hover:text-white",onClick:()=>L(!1),children:s.jsx(de,{size:22})})]}),s.jsx("div",{className:"px-3 pb-3",children:s.jsx(Z,{className:"mx-auto",value:$,onChange:n=>{if(o?.(n),N(n),n.includes("gradient")){C(n),H==="color"&&P("gradient"),n.includes("linear-gradient")?m("Linear"):n.includes("radial-gradient")?m("Radial"):m("Gradient");return}if(H==="gradient"){P("color");return}const a=n.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(a){const i=a[4]!==void 0?parseFloat(a[4]):1;z(Math.round(i*100))}C(n),m(le(n))}})})]})]})};ue.__docgenInfo={description:"",methods:[],displayName:"InputColorPicker",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Background Color'",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'rgba(255,255,255,1)'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},onShowPicker:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onHideBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onOpacityChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},onDeleteBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{ue as I};
