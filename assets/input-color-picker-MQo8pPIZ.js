import{r as x,j as r}from"./iframe-CMuf9cB7.js";import{c as I}from"./input-Ci731--R.js";import{I as A}from"./input-hex-Ht2xGYCl.js";import{c as T}from"./createLucideIcon-C8kB59Fu.js";import{C as Y}from"./index-GuJPHahn.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K=T("eye-off",J);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z=T("eye",Q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],te=T("trash-2",ee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],se=T("x",ne),z=e=>{if(!e)return{hex:"------",opacity:100};if(e.includes("gradient"))return{hex:"Linear",opacity:100};if(e.startsWith("#"))return{hex:e.toUpperCase(),opacity:100};const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(t){const s=parseInt(t[1]),n=parseInt(t[2]),g=parseInt(t[3]),a=t[4]!==void 0?parseFloat(t[4]):1,o=l=>{const m=l.toString(16);return m.length==1?"0"+m:m};return{hex:("#"+o(s)+o(n)+o(g)).toUpperCase(),opacity:Math.round(a*100)}}return{hex:e,opacity:100}},ae=e=>{if(!e)return"#000000";if(e.startsWith("#"))return e.toUpperCase();const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(t){const s=parseInt(t[1],10),n=parseInt(t[2],10),g=parseInt(t[3],10),a=o=>("0"+o.toString(16)).slice(-2);return`#${a(s)}${a(n)}${a(g)}`.toUpperCase()}return"#000000"},F=e=>{const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,s=e.replace(t,(g,a,o,d)=>a+a+o+o+d+d),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},W=e=>e<0||e>100?"ff":Math.round(e/100*255).toString(16).padStart(2,"0"),re=(e,t)=>{let s=e&&(e.includes("gradient")||e.startsWith("rgba")||e.startsWith("rgb")||e.startsWith("#"))?e:"#FFFFFF";if(s.includes("gradient"))return s;if(s.startsWith("rgb")){const n=s.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(n){const g=parseInt(n[1],10),a=parseInt(n[2],10),o=parseInt(n[3],10),d=n[4]!==void 0?parseFloat(n[4]):void 0,l=isNaN(t)?typeof d=="number"?d:1:t/100;s=`rgba(${g}, ${a}, ${o}, ${l})`}}if(s.startsWith("#")){let n=s.substring(1);(n.length===3||n.length===4)&&(n=n.split("").map(a=>a+a).join("")),s=`#${n.substring(0,6)}${W(t)}`}return s},oe=e=>e.replace(/[^0-9a-fA-F]/g,"").substring(0,6).toUpperCase(),ie=({value:e,onChange:t,onOpacityChange:s})=>{const{hex:n,opacity:g}=z(e),[a,o]=x.useState(e),[d,l]=x.useState(n),[m,h]=x.useState(e),[y,b]=x.useState(e.includes("gradient")?"gradient":"color"),[v,k]=x.useState(isNaN(g)?100:g);return x.useEffect(()=>{const{hex:c,opacity:i}=z(e);l(c),o(e),h(e),b(e.includes("gradient")?"gradient":"color"),e.includes("gradient")||k(isNaN(i)?100:i)},[e]),{hex:n,color:a,inputValue:d,livePreviewColor:m,colorType:y,opacityValue:v,handleInputChange:c=>{const i=oe(c.target.value);if(l(i),i.length===3||i.length===6){const p=`#${i}`,u=F(p);if(u){const w=`rgba(${u.r}, ${u.g}, ${u.b}, ${v/100})`;h(w)}}},handleInputFocus:()=>{d.startsWith("#")&&l(d.substring(1))},handleHexChange:()=>{if(n==="Linear")return;let c=d.trim();c.startsWith("#")||(c=`#${c}`);const i=F(c);if(i){const p=`rgba(${i.r}, ${i.g}, ${i.b}, ${v/100})`;t?.(p),l(c.toUpperCase())}else{const{hex:p}=z(e);l(p),h(e)}},handleOpacityChange:c=>{const i=isNaN(c)?100:c;if(s?.(i),k(i),a.includes("gradient")){const u=a.replace(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/g,(w,H,C,O)=>`rgba(${H}, ${C}, ${O}, ${i/100})`);o(u),h(u),t?.(u);return}const p=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(p){const u=p[1],w=p[2],H=p[3],C=`rgba(${u}, ${w}, ${H}, ${i/100})`;o(C),h(C),t?.(C)}else{const u=F(a);if(u){const w=`rgba(${u.r}, ${u.g}, ${u.b}, ${i/100})`;o(w),h(w),t?.(w)}}},handleColorChange:c=>{if(t?.(c),o(c),c.includes("gradient")){h(c),y==="color"&&b("gradient"),c.includes("linear-gradient")?l("Linear"):c.includes("radial-gradient")?l("Radial"):l("Gradient");return}if(y==="gradient"){b("color");return}const i=c.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(i){const p=i[4]!==void 0?parseFloat(i[4]):1,u=Math.round(p*100);k(isNaN(u)?100:u)}h(c),l(ae(c))}}},ce=()=>{const[e,t]=x.useState({top:window.innerHeight/2,left:window.innerWidth/2}),s=x.useRef(null);return{position:e,handleDragStart:(a,o)=>{if(!o)return;s.current={x:a.clientX,y:a.clientY,top:o.offsetTop,left:o.offsetLeft};const d=m=>{if(!s.current)return;const h=m.clientX-s.current.x,y=m.clientY-s.current.y;t({top:s.current.top+y,left:s.current.left+h})},l=()=>{s.current=null,window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",d),window.addEventListener("mouseup",l)},resetPosition:()=>{t({top:window.innerHeight/2,left:window.innerWidth/2})}}},f={light:{container:"bg-white border-gray-300 focus-within:ring-blue-500",text:"text-gray-900",textMuted:"text-gray-600",divider:"bg-gray-300"},dark:{container:"dark:bg-gray-800 dark:border-gray-600 dark:focus-within:ring-blue-400",text:"dark:text-gray-200",textMuted:"dark:text-gray-400",divider:"dark:bg-gray-600"}},de=({opacity:e,onChange:t})=>{const[s,n]=x.useState(!1),g=a=>{a.preventDefault();const o=a.currentTarget;o.setPointerCapture(a.pointerId);const d=document.createElement("style");d.id="opacity-dragging-cursor",d.innerHTML=`
			body, body * {
				cursor: ew-resize !important;
				user-select: none !important;
			}
		`,document.head.appendChild(d);const l=a.clientX,m=e;n(!0);const h=b=>{const v=b.clientX-l;let M=Math.round(m+v*.5);M=Math.max(0,Math.min(100,M)),t(M)},y=b=>{o.releasePointerCapture(b.pointerId),n(!1);const v=document.getElementById("opacity-dragging-cursor");v&&v.remove(),o.removeEventListener("pointermove",h),document.removeEventListener("pointerup",y)};o.addEventListener("pointermove",h),document.addEventListener("pointerup",y)};return r.jsxs("button",{type:"button",onPointerDown:g,className:I("text-xs font-mono select-none cursor-ew-resize whitespace-nowrap w-10 text-right",f.light.textMuted,f.dark.textMuted,"hover:text-gray-900 dark:hover:text-white",s&&"text-gray-900 dark:text-white"),children:[e,"%"]})},le=({title:e="Background Color",className:t,classNameGradientInput:s,value:n="rgba(255,255,255,1)",onChange:g,onShowPicker:a,onHideBackground:o,onOpacityChange:d,onDeleteBackground:l,showOpacity:m=!0,showGradient:h=!1,pickerSize:y=250})=>{const[b,v]=x.useState(!1),[k,M]=x.useState(!1),V=x.useRef(null),{hex:S,color:E,inputValue:D,livePreviewColor:c,colorType:i,opacityValue:p,handleInputChange:u,handleOpacityChange:w,handleColorChange:H}=ie({value:n,onChange:g,onOpacityChange:d}),{position:C,handleDragStart:O,resetPosition:B}=ce(),R=()=>{b||B(),a?.(!b),v($=>!$)},_=re(c,p),U=async()=>{if(i==="gradient"&&E)try{await navigator.clipboard.writeText(E)}catch($){console.error("Failed to copy gradient:",$)}};return r.jsxs("div",{className:"w-fit",children:[r.jsxs("div",{className:I("flex items-center justify-between rounded-md p-1 border",f.light.container,f.dark.container,t),children:[i==="color"?r.jsxs("div",{className:"flex items-center gap-1 w-full",children:[r.jsxs("button",{onClick:R,className:"relative size-5 rounded-sm overflow-hidden bg-white",children:[r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),r.jsx("div",{className:"absolute inset-0",style:{background:_}})]}),r.jsx(A,{hexColor:`#${S.replace("#","")}${W(p)}`,handleChange:$=>{const L=$.replace("#","").toUpperCase(),j=L.slice(0,6);let q=p;if(L.length>=8){const P=L.slice(6,8),N=Math.round(parseInt(P,16)/255*100);!isNaN(N)&&N>=0&&N<=100&&(q=N,w(N))}if(j.length===6&&/^[0-9A-F]{6}$/i.test(j)){const P=parseInt(j.slice(0,2),16),N=parseInt(j.slice(2,4),16),X=parseInt(j.slice(4,6),16),G=`rgba(${P}, ${N}, ${X}, ${q/100})`;g?.(G),u({target:{value:j}})}},showAlpha:!0,className:"ml-1 bg-transparent border-none h-auto focus-within:ring-0 flex-1",classNameInput:I("bg-transparent px-2 font-mono text-xs",f.light.text,f.dark.text)})]}):r.jsxs("div",{className:"flex items-center gap-1 w-full",children:[r.jsxs("button",{onClick:R,className:"relative size-5 rounded-sm overflow-hidden bg-white flex-shrink-0",children:[r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),r.jsx("div",{className:"absolute inset-0",style:{background:_}})]}),r.jsx("button",{onClick:U,className:I("outline-none px-2 font-mono text-xs flex-1 text-left cursor-pointer hover:opacity-70 transition-opacity min-w-[187px]",f.light.text,f.dark.text,s),title:"Click to copy",children:D})]}),r.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[r.jsx(de,{opacity:p,onChange:w}),r.jsx("div",{className:I("w-px h-4 mx-1",f.light.divider,f.dark.divider)}),r.jsx("button",{onClick:()=>{o?.(!k),M(!k)},className:I("p-1",f.light.textMuted,f.dark.textMuted,"hover:text-gray-900 dark:hover:text-white"),children:k?r.jsx(K,{size:14}):r.jsx(Z,{size:14})}),r.jsx("button",{onClick:l,className:I("p-1",f.light.textMuted,f.dark.textMuted,"hover:text-gray-900 dark:hover:text-white"),children:r.jsx(te,{size:14})})]})]}),b&&r.jsxs("div",{ref:V,className:"fixed z-50 bg-[#202020] overflow-hidden rounded-md",style:{top:`${C.top}px`,left:`${C.left}px`,transform:"translate(-50%, -50%)"},children:[r.jsxs("header",{className:"flex items-center justify-between mb-2 py-1 cursor-move pl-3 pr-1",onMouseDown:$=>O($,V.current),children:[r.jsx("span",{className:"text-gray-200 font-mono text-xs select-none",children:e}),r.jsx("button",{className:"text-gray-400 hover:text-white",onClick:()=>v(!1),children:r.jsx(se,{size:22})})]}),r.jsx("div",{className:"px-3 pb-3",children:r.jsx(Y,{className:"mx-auto",value:E,width:y,height:y,hideOpacity:!m,hideGradientControls:!h,onChange:H})})]})]})};le.__docgenInfo={description:"",methods:[],displayName:"InputColorPicker",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Background Color'",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'rgba(255,255,255,1)'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},classNameGradientInput:{required:!1,tsType:{name:"string"},description:""},showOpacity:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},pickerSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"250",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},onShowPicker:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onHideBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onOpacityChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},onDeleteBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{le as I};
