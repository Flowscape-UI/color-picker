import{R as h,r as S,j as O}from"./iframe-DEXx_Rvw.js";import{a as le,I as u}from"./input-theme-CYF-iDsr.js";import{c as P}from"./cn-Bzm_o1ou.js";var U={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H=h.createContext&&h.createContext(U),oe=["attr","size","title"];function se(e,t){if(e==null)return{};var n=ue(e,t),a,l;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(e);for(l=0;l<v.length;l++)a=v[l],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ue(e,t){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q.apply(this,arguments)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(a){ce(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ce(e,t,n){return t=me(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=fe(e,"string");return typeof t=="symbol"?t:t+""}function fe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J(e){return e&&e.map((t,n)=>h.createElement(t.tag,D({key:n},t.attr),J(t.child)))}function de(e){return t=>h.createElement(pe,q({attr:D({},e.attr)},t),J(e.child))}function pe(e){var t=n=>{var{attr:a,size:l,title:v}=e,z=se(e,oe),E=l||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),h.createElement("svg",q({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,z,{className:o,style:D(D({color:e.color||n.color},n.style),e.style),height:E,width:E,xmlns:"http://www.w3.org/2000/svg"}),v&&h.createElement("title",null,v),e.children)};return H!==void 0?h.createElement(H.Consumer,null,n=>t(n)):t(U)}function ge(e){return de({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80z"},child:[]}]})(e)}function k(e,t=0){if(typeof e!="number")throw new TypeError("Input must be a number");if(t<0)throw new RangeError("Precision must be a non-negative integer");const n=e.toString();if(Number.isInteger(e)&&t===0)return parseInt(n,10);{let[a,l]=n.split(".");return l?(l=l.slice(0,t),l.length===0?parseInt(a,10):parseFloat(`${a}.${l}`)):parseInt(n,10)}}const G=h.forwardRef(({min:e,max:t,icon:n,className:a,classNameInput:l,classNameIcon:v,progression:z="linear",step:E=0,precision:o=0,value:C,onChange:B,orientation:d="horizontal",unit:M="none",showUnit:Z=!0,disabled:y,isDisabledMouseEvent:I=!1,...Q},ee)=>{const te=S.useRef(null),[R,V]=S.useState(C),w=S.useRef(null);S.useEffect(()=>{V(C)},[C]);const j=i=>{const r=e!==void 0?+e:-1/0,p=t!==void 0?+t:1/0;return Math.max(r,Math.min(p,i))},_=E===0?1:E,L=i=>{const r=Number(i);V(i),!isNaN(r)&&String(i).slice(-1)!=="."&&B?.(j(r))},ne=i=>{if(y||I)return;i.preventDefault();const r=i.currentTarget;r.setPointerCapture(i.pointerId);const p=document.createElement("style");p.id="dragging-cursor-style";const c=d==="vertical"?"ns-resize":"ew-resize";p.innerHTML=`
        body, body * {
          cursor: ${c} !important;
          user-select: none !important;
        }
      `,document.head.appendChild(p);const m=i.clientX,g=i.clientY,x=R===""?0:Number(R),X=f=>{V(s=>{const T=s===""||Number.isNaN(Number(s))?0:Number(s),Y=j(T+f*_),N=k(Y,o);return B?.(Number(N)),N}),w.current=requestAnimationFrame(()=>X(f))},A=()=>{w.current&&(cancelAnimationFrame(w.current),w.current=null)},K=f=>{if(d==="vertical"){const s=f.clientY<=1,T=f.clientY>=window.innerHeight-1;if(s||T)w.current||X(s?1:-1);else{A();const N=(g-f.clientY)*_;let b=F(x,N,z);b=j(b),L(k(b,o))}}else{const s=f.clientX<=1,T=f.clientX>=window.innerWidth-1;if(s||T)w.current||X(s?-1:1);else{A();const N=(f.clientX-m)*_;let b=F(x,N,z);b=j(b),L(k(b,o))}}},W=f=>{r.releasePointerCapture(f.pointerId),A();const s=document.getElementById("dragging-cursor-style");s&&s.remove(),r.removeEventListener("pointermove",K),document.removeEventListener("pointerup",W)};r.addEventListener("pointermove",K),document.addEventListener("pointerup",W)},re=i=>{const{key:r,currentTarget:p}=i,{value:c,selectionStart:m,selectionEnd:g}=p;if(i.metaKey||i.ctrlKey||["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","Home","End"].includes(r))return;if(r==="."&&(o===0||c.includes("."))){i.preventDefault();return}const x=c.indexOf(".");if(x>-1&&/\d/.test(r)&&m!==null&&g!==null&&m>x&&m===g&&c.substring(x+1).length>=o){i.preventDefault();return}if(r==="-"&&(c.includes("-")||m!==null&&m>0)){i.preventDefault();return}/[\d.-]/.test(r)||i.preventDefault()},ae=i=>{let r=i.target.value;if(!/^-?(\d+(\.\d*)?|\.\d*|)$/.test(r))return;const c=r.indexOf(".");c>-1&&(o<=0?r=r.split(".")[0]??"":r.substring(c+1).length>o&&(r=r.substring(0,c+1+o)));const m=Number(r);if(!isNaN(m)&&r!==""&&!r.endsWith(".")){const g=j(m);g!==m&&(r=String(g))}L(r)},F=(i,r,p)=>{switch(p){case"linear":return i+r;case"arithmetic":return i+r*2;case"paraboloid":return i+r*Math.abs(r)*.1;case"exponential":return i*(1+r*.01);case"geometric":return r>0?(i+r)*1.05:r<0?(i+r)/1.05:i+r;default:return i+r}},ie=S.useMemo(()=>n?O.jsx("span",{className:P("text-sm font-medium select-none",u.light.icon,u.dark.icon),children:n}):O.jsx(ge,{className:P(u.light.icon,u.dark.icon)}),[n]);return O.jsxs("div",{className:P("inline-flex items-center overflow-hidden rounded-lg border-2 focus-within:ring-1 focus-within:ring-ring",u.light.container,u.dark.container,{"flex-col w-20":d==="vertical","h-8":d==="horizontal"},a),children:[O.jsx("button",{type:"button",ref:te,onPointerDown:ne,className:P("flex items-center justify-center",u.light.dragArea,u.dark.dragArea,{"aspect-square h-full":d==="horizontal","w-full h-8":d==="vertical","cursor-ew-resize":d==="horizontal"&&!I&&!y,"cursor-ns-resize":d==="vertical"&&!I&&!y,"cursor-not-allowed opacity-50":y||I},v),disabled:I||y,children:ie}),O.jsx(le,{type:"text",inputMode:"decimal",className:P("w-full rounded-none border-none bg-transparent text-center px-2 py-0 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",u.light.input,u.dark.input,{"h-8":d==="vertical","h-full":d==="horizontal"},l),value:R??"",onChange:ae,onKeyDown:re,disabled:y,ref:ee,...Q}),Z&&M!=="none"&&O.jsx("div",{className:P("px-2 text-xs font-medium select-none",u.light.icon,u.dark.icon),children:M})]})});G.displayName="InputNumberSelect";G.__docgenInfo={description:"",methods:[],displayName:"InputNumberSelect",props:{value:{required:!0,tsType:{name:"number"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => void",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"void"}}},description:""},min:{required:!1,tsType:{name:"number"},description:""},max:{required:!1,tsType:{name:"number"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},precision:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},progression:{required:!1,tsType:{name:"union",raw:`| 'linear'
| 'arithmetic'
| 'geometric'
| 'paraboloid'
| 'exponential'`,elements:[{name:"literal",value:"'linear'"},{name:"literal",value:"'arithmetic'"},{name:"literal",value:"'geometric'"},{name:"literal",value:"'paraboloid'"},{name:"literal",value:"'exponential'"}]},description:"",defaultValue:{value:"'linear'",computed:!1}},orientation:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"",defaultValue:{value:"'horizontal'",computed:!1}},unit:{required:!1,tsType:{name:"union",raw:"'px' | '%' | 'rem' | 'em' | 'deg' | 'none'",elements:[{name:"literal",value:"'px'"},{name:"literal",value:"'%'"},{name:"literal",value:"'rem'"},{name:"literal",value:"'em'"},{name:"literal",value:"'deg'"},{name:"literal",value:"'none'"}]},description:"",defaultValue:{value:"'none'",computed:!1}},showUnit:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},icon:{required:!1,tsType:{name:"union",raw:"React.JSX.Element | string",elements:[{name:"React.JSX.Element"},{name:"string"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},classNameInput:{required:!1,tsType:{name:"string"},description:""},classNameIcon:{required:!1,tsType:{name:"string"},description:""},isDisabledMouseEvent:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};export{G as I};
