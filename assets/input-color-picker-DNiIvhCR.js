import{r as g,j as n}from"./iframe-s8WP3KE-.js";import{c as P}from"./input-CcGhGN5b.js";import{I as R}from"./input-number-select-BBHEQ8QN.js";import{c as N}from"./createLucideIcon-BiIdTSer.js";import{C as S}from"./index-C-w-lniU.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B=N("eye-off",_);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L=N("eye",W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],G=N("trash-2",U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y=N("x",X),H=e=>{if(!e)return{hex:"------",opacity:100};if(e.includes("gradient"))return{hex:"Mixed",opacity:100};if(e.startsWith("#"))return{hex:e.toUpperCase(),opacity:100};const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(t){const r=parseInt(t[1]),o=parseInt(t[2]),h=parseInt(t[3]),i=t[4]!==void 0?parseFloat(t[4]):1,c=d=>{const f=d.toString(16);return f.length==1?"0"+f:f};return{hex:("#"+c(r)+c(o)+c(h)).toUpperCase(),opacity:Math.round(i*100)}}return{hex:e,opacity:100}},A=e=>{if(!e)return"#000000";if(e.startsWith("#"))return e.toUpperCase();const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*[\d.]+)?\)/);if(t){const r=parseInt(t[1],10),o=parseInt(t[2],10),h=parseInt(t[3],10),i=c=>("0"+c.toString(16)).slice(-2);return`#${i(r)}${i(o)}${i(h)}`.toUpperCase()}return"#000000"},M=e=>{const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,(h,i,c,p)=>i+i+c+c+p+p),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},K=e=>e<0||e>100?"ff":Math.round(e/100*255).toString(16).padStart(2,"0"),J=(e,t)=>{let r=e&&(e.includes("gradient")||e.startsWith("rgba")||e.startsWith("#"))?e:"#FFFFFF";if(r.startsWith("#")){let o=r.substring(1);(o.length===3||o.length===4)&&(o=o.split("").map(i=>i+i).join("")),r=`#${o.substring(0,6)}${K(t)}`}return r},Q=e=>e.replace(/[^0-9a-fA-F]/g,"").substring(0,6).toUpperCase(),Z=({value:e,onChange:t,onOpacityChange:r})=>{const{hex:o,opacity:h}=H(e),[i,c]=g.useState(e),[p,d]=g.useState(o),[f,m]=g.useState(e),[x,w]=g.useState("color"),[v,C]=g.useState(isNaN(h)?100:h);return g.useEffect(()=>{const{hex:a,opacity:s}=H(e);d(a),c(e),m(e),C(isNaN(s)?100:s)},[e]),{hex:o,color:i,inputValue:p,livePreviewColor:f,colorType:x,opacityValue:v,handleInputChange:a=>{const s=Q(a.target.value);if(d(s),s.length===3||s.length===6){const u=`#${s}`,l=M(u);if(l){const y=`rgba(${l.r}, ${l.g}, ${l.b}, ${v/100})`;m(y)}}},handleInputFocus:()=>{p.startsWith("#")&&d(p.substring(1))},handleHexChange:()=>{if(o==="Mixed")return;let a=p.trim();a.startsWith("#")||(a=`#${a}`);const s=M(a);if(s){const u=`rgba(${s.r}, ${s.g}, ${s.b}, ${v/100})`;t?.(u),d(a.toUpperCase())}else{const{hex:u}=H(e);d(u),m(e)}},handleOpacityChange:a=>{const s=isNaN(a)?100:a;if(r?.(s),C(s),i.includes("gradient"))return;const u=i.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(u){const l=u[1],y=u[2],I=u[3],k=`rgba(${l}, ${y}, ${I}, ${s/100})`;c(k),t?.(k)}else{const l=M(i);if(l){const y=`rgba(${l.r}, ${l.g}, ${l.b}, ${s/100})`;c(y),t?.(y)}}},handleColorChange:a=>{if(t?.(a),c(a),a.includes("gradient")){m(a),x==="color"&&w("gradient"),a.includes("linear-gradient")?d("Linear"):a.includes("radial-gradient")?d("Radial"):d("Gradient");return}if(x==="gradient"){w("color");return}const s=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(s){const u=s[4]!==void 0?parseFloat(s[4]):1,l=Math.round(u*100);C(isNaN(l)?100:l)}m(a),d(A(a))}}},ee=()=>{const[e,t]=g.useState({top:window.innerHeight/2,left:window.innerWidth/2}),r=g.useRef(null);return{position:e,handleDragStart:(i,c)=>{if(!c)return;r.current={x:i.clientX,y:i.clientY,top:c.offsetTop,left:c.offsetLeft};const p=f=>{if(!r.current)return;const m=f.clientX-r.current.x,x=f.clientY-r.current.y;t({top:r.current.top+x,left:r.current.left+m})},d=()=>{r.current=null,window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",d)};window.addEventListener("mousemove",p),window.addEventListener("mouseup",d)},resetPosition:()=>{t({top:window.innerHeight/2,left:window.innerWidth/2})}}},te=({title:e="Background Color",className:t,value:r="rgba(255,255,255,1)",onChange:o,onShowPicker:h,onHideBackground:i,onOpacityChange:c,onDeleteBackground:p,showOpacity:d=!0,showGradient:f=!1,pickerSize:m=250})=>{const[x,w]=g.useState(!1),[v,C]=g.useState(!1),j=g.useRef(null),{hex:T,color:V,inputValue:$,livePreviewColor:E,colorType:a,opacityValue:s,handleInputChange:u,handleInputFocus:l,handleHexChange:y,handleOpacityChange:I,handleColorChange:k}=Z({value:r,onChange:o,onOpacityChange:c}),{position:F,handleDragStart:q,resetPosition:D}=ee(),z=()=>{x||D(),h?.(!x),w(b=>!b)},O=J(E,s);return n.jsxs("div",{className:"w-fit",children:[n.jsxs("div",{className:P("flex items-center justify-between bg-[#3D3D3D] rounded-md p-1 border border-transparent",t),children:[a==="color"?n.jsxs("div",{className:"flex items-center gap-1 w-full",children:[n.jsxs("button",{onClick:z,className:"relative size-5 rounded-sm overflow-hidden bg-white",children:[n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),n.jsx("div",{className:"absolute inset-0",style:{background:O,opacity:s/100}})]}),n.jsx("input",{type:"text",value:$,onChange:u,onFocus:l,onBlur:y,onKeyDown:b=>{b.key==="Enter"&&(y(),b.target.blur())},className:"bg-transparent outline-none px-2 text-gray-200 font-mono text-xs",disabled:T==="Mixed"})]}):n.jsxs("button",{onClick:z,className:"inline-flex items-center gap-1 w-full",children:[n.jsxs("div",{className:"relative size-5 rounded-sm overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23d1d1d1'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E")`}}),n.jsx("div",{className:"absolute inset-0",style:{background:O,opacity:s/100}})]}),n.jsx("span",{className:"outline-none px-2 text-gray-200 font-mono text-xs",children:$})]}),n.jsxs("div",{className:"inline-flex items-center",children:[n.jsx(R,{value:s,onChange:b=>I(Number(b)||0),step:1,min:0,icon:"%",max:100,className:"bg-transparent dark:bg-transparent flex-row-reverse px-0 py-0 h-4 outline-none border-none font-mono text-xs text-gray-400",classNameInput:"w-10 text-gray-400 font-mono text-xs px-0 py-0 text-right"}),n.jsx("div",{className:"w-px h-4 bg-gray-600 mx-1"}),n.jsx("button",{onClick:()=>{i?.(!v),C(!v)},className:"p-1 text-gray-400 hover:text-white",children:v?n.jsx(B,{size:14}):n.jsx(L,{size:14})}),n.jsx("button",{onClick:p,className:"p-1 text-gray-400 hover:text-white",children:n.jsx(G,{size:14})})]})]}),x&&n.jsxs("div",{ref:j,className:"fixed z-50 bg-[#202020] overflow-hidden rounded-md",style:{top:`${F.top}px`,left:`${F.left}px`,transform:"translate(-50%, -50%)"},children:[n.jsxs("header",{className:"flex items-center justify-between mb-2 py-1 cursor-move pl-3 pr-1",onMouseDown:b=>q(b,j.current),children:[n.jsx("span",{className:"text-gray-200 font-mono text-xs select-none",children:e}),n.jsx("button",{className:"text-gray-400 hover:text-white",onClick:()=>w(!1),children:n.jsx(Y,{size:22})})]}),n.jsx("div",{className:"px-3 pb-3",children:n.jsx(S,{className:"mx-auto",value:V,width:m,height:m,hideOpacity:!d,hideGradientControls:!f,onChange:k})})]})]})};te.__docgenInfo={description:"",methods:[],displayName:"InputColorPicker",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Background Color'",computed:!1}},value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'rgba(255,255,255,1)'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},showOpacity:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showGradient:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},pickerSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"250",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},onShowPicker:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onHideBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"(hidden: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"hidden"}],return:{name:"void"}}},description:""},onOpacityChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},onDeleteBackground:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{te as I};
